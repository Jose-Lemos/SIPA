<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Configurar Recolector</title>

    {% load static %}
        <link rel="stylesheet" href="{% static 'style/conf-scrapper.css' %}">

</head>
<body>
    <h1>Configurar Scrapper:</h1> 
    <div class = "card-body card-block">
        <form  method="get" class="form-horizontal">
            {% csrf_token %}
            {% for fuente in fuentes %}
            <div class="row form-group">
                <div class="col col-md-2"><label for="fuentes-list">Fuente de Información: </label></div>
                <div class="col-12 col-md-6">
                    <select name="id_fuente" id="fuentes-list">
                        <option value=""></option>
                        <option value="{{fuente.id}}">{{fuente.URL}}</option>
                    </select>
                </div>
                <div><button onclick="" type="button">Agregar Sección</button></div>
            </div>
            {% endfor %}


           <!-- <div class="row form-group">
                <div class="col col-md-2"><label for="cant-seccion">Cantidad de Secciones: </label></div>
                <div class="col-12 col-md-2"><input type="number" class="in-sec" id="cant-seccion" min="1" value="1"></div>
                <div class="col col-md-1"><a href="#" id="btn-selec" class="ref-sel"><div class="btn-seleccionar">Seleccionar</div></a></div>
            </div>
            -->
            

            <!-- 

            <div class="content-forms">
                <div class="row form-group d-flex justify-content-center text-center" id="form-secc">
                    <div class="col col-md-3">
                        <h3>CONTENEDOR:</h3>
                        <div class="TAG-CONT">
                            <label for="tag-seccion1">Etiqueta HTML:</label>
                            <select name="etiqueta-seccion1" id="tag-seccion1">
                                <option value="" selected=""></option>
                                <option value="section">section</option>
                                <option value="article">article</option>
                                <option value="header">header</option>
                                <option value="body">body</option>
                                <option value="footer">footer</option>
                                <option value="div">div</option>
                                <option value="ul">ul</option>
                                <option value="ol">ol</option>
                                <option value="li">li</option>
                                <option value="h1">h1</option>
                                <option value="h2">h2</option>
                                <option value="h3">h3</option>
                                <option value="h4">h4</option>
                                <option value="h5">h5</option>
                                <option value="h6">h6</option>
                                <option value="p">p</option>
                                
        
                            </select>
                        </div>
                    </div>
                    <div class="col col-md-3">
                        <h3>TITULO:</h3>
                        <div>
                            <label for="tag-title1">Etiqueta HTML:</label>
                            <select name="etiqueta-title1" id="tag-title1">
                                <option value="" selected=""></option>
                                <option value="title">title</option>
                                <option value="h1">h1</option>
                                <option value="h2">h2</option>
                                <option value="h3">h3</option>
                                <option value="h4">h4</option>
                                <option value="h5">h5</option>
                                <option value="h6">h6</option>
                                <option value="p">p</option>
                                <option value="a">a</option> 
                                <option value="strong">strong</option> 
        
                            </select>
                        </div>
                    </div>
                </div>

               
                <div class="row form-group d-flex justify-content-center text-center" id="form-secc">
                    <div class="col col-md-3">
                        <label for="tag-title1">Etiqueta HTML:</label>
                        <select name="etiqueta-title1" id="tag-title1">
                            <option value="" selected=""></option>
                            <option value="title">title</option>
                            <option value="h1">h1</option>
                            <option value="h2">h2</option>
                            <option value="h3">h3</option>
                            <option value="h4">h4</option>
                            <option value="h5">h5</option>
                            <option value="h6">h6</option>
                            <option value="p">p</option>
                            <option value="a">a</option> 
                            <option value="strong">strong</option> 
    
                        </select>
                    </div>
                    <div class="col col-md-3"><label for="id_buscar_Titulo">class: </label><input type="text" name="buscar_Titulo" maxlength="200" required id="id_buscar_Titulo"></div>
                    <div class="col col-md-3"><label for="id_buscar_id_Titulo">id: </label><input type="text" name="buscar_id_Titulo" maxlength="200" required id="id_buscar_id_Titulo"></div>
                </div>

                <div class="row form-group d-flex justify-content-center text-center" id="form-secc">
                    <div class="col col-md-3">
                        <label for="tag-contenido1">Etiqueta HTML:</label>
                        <select name="etiqueta-contenido1" id="tag-contenido1">
                            <option value="" selected=""></option>
                            <option value="p">p</option>
                            <option value="h1">h1</option>
                            <option value="h2">h2</option>
                            <option value="h3">h3</option>
                            <option value="h4">h4</option>
                            <option value="h5">h5</option>
                            <option value="h6">h6</option>
                            <option value="span">span</option>
                            <option value="a">a</option> 
                            <option value="strong">strong</option> 
    
                        </select>
                    </div>
                    <div class="col col-md-3"><label for="id_buscar_Contenido">class: </label><input type="text" name="buscar_Contenido" maxlength="200" required id="id_buscar_Contenido"></div>
                    <div class="col col-md-3"><label for="id_buscar_id_Contenido">id: </label><input type="text" name="buscar_id_Contenido" maxlength="200" required id="id_buscar_id_Contenido"></div>
                </div>
                <div class="row form-group d-flex justify-content-center text-center" id="form-secc">
                    <div class="col col-md-3">
                        <label for="tag-img1">Etiqueta HTML:</label>
                        <select name="etiqueta-imagenes1" id="tag-img1">
                            <option value="" selected=""></option>
                            <option value="img">img</option>
                            <option value="a">a</option>
                            <option value="media">media</option>
                            <option value="video">video</option>
    
                        </select>
                    </div>
                    <div class="col col-md-3"><label for="id_buscar_Imagenes">class: </label><input type="text" name="buscar_Imagenes" maxlength="200" required id="id_buscar_Imagenes"></div>
                    <div class="col col-md-3"><label for="id_buscar_id_Imagenes">id: </label><input type="text" name="buscar_id_Imagenes" maxlength="200" required id="id_buscar_id_Imagenes"></div>
                </div>
                <div class="row form-group d-flex justify-content-center text-center" id="form-secc">
                    <div class="col col-md-3">
                        <label for="tag-links1">Etiqueta HTML:</label>
                        <select name="etiqueta-links1" id="tag-links1">
                            <option value="" selected=""></option>
                            <option value="link">link</option>
                            <option value="a">a</option>
    
                        </select>
                    </div>
                    <div class="col col-md-3"><label for="id_buscar_links">class: </label><input type="text" name="buscar_links" maxlength="200" required id="id_buscar_links"></div>
                    <div class="col col-md-3"><label for="id_buscar_id_links">id: </label><input type="text" name="buscar_id_links" maxlength="200" required id="id_buscar_id_links"></div>
                </div>
            
                <div class='text-center'>
                    <button type="submit" class="btn btn-success"> Guardar </button>
                </div>
            </div>
            -
            <div class='row form-group'>
                <div class='col col-md-3'>{{ form.buscar_Titulo.label }}</div>
                <div class='col-12 col-md-9'>{{ form.buscar_Titulo }}</div>
            </div>

            <div class='row form-group'>
                <div class='col col-md-3'>{{ form.buscar_Contenido.label }}</div>
                <div class='col-12 col-md-9'>{{ form.buscar_Contenido }}</div>
            </div>

            <div class='row form-group'>
                <div class='col col-md-3'>{{ form.buscar_Imagenes.label }}</div>
                <div class='col-12 col-md-9'>{{ form.buscar_Imagenes }}</div>
            </div>

            <div class='row form-group'>
                <div class="col col-md-3">{{ form.buscar_links.label }}</div>
                <div class="col-12 col-md-9">{{ form.buscar_links }}</div>
            </div>


            <div class='text-center'>
                <button type="submit" class="btn btn-success"> Guardar </button>
            </div>

            -->
            
        </form>

        <div class = "card-body card-block" id="configuracion">
            <form  method="post" class="form-horizontal">
                {% csrf_token %}
                <div class="content-forms" id="cont-forms">
                    <div class="row form-group d-flex justify-content-center text-center" id="form-secc">
                        <div class="col col-md-3">
                            <h3>CONTENEDOR:</h3>
                            <div class="TAG-CONT">
                                <label for="tag-seccion1">Etiqueta HTML:</label>
                                <select name="etiqueta-seccion1" id="tag-seccion1">
                                    <option value="" selected=""></option>
                                    <option value="section">section</option>
                                    <option value="article">article</option>
                                    <option value="header">header</option>
                                    <option value="body">body</option>
                                    <option value="footer">footer</option>
                                    <option value="div">div</option>
                                    <option value="ul">ul</option>
                                    <option value="ol">ol</option>
                                    <option value="li">li</option>
                                    <option value="h1">h1</option>
                                    <option value="h2">h2</option>
                                    <option value="h3">h3</option>
                                    <option value="h4">h4</option>
                                    <option value="h5">h5</option>
                                    <option value="h6">h6</option>
                                    <option value="p">p</option>
                                    
            
                                </select>
                            </div>
                            <div class="TAG-CONT">
                                <label for="attr-seccion1">Atributo CSS:</label>
                                <select name="atributo-seccion1" id="attr-seccion1">
                                    <option value="" selected=""></option>
                                    <option value="section">id</option>
                                    <option value="article">class</option>
                                    <option value="header">name</option>
                                    
                                    
            
                                </select>
                                <input type="text" name="attr-inp-cont">
                            </div>
                        </div>
                        <div class="col col-md-3">
                            <h3>TITULO:</h3>
                            <div>
                                <label for="tag-title1">Etiqueta HTML:</label>
                                <select name="etiqueta-title1" id="tag-title1">
                                    <option value="" selected=""></option>
                                    <option value="title">title</option>
                                    <option value="h1">h1</option>
                                    <option value="h2">h2</option>
                                    <option value="h3">h3</option>
                                    <option value="h4">h4</option>
                                    <option value="h5">h5</option>
                                    <option value="h6">h6</option>
                                    <option value="p">p</option>
                                    <option value="a">a</option> 
                                    <option value="strong">strong</option> 
            
                                </select>
                            </div>
                            <div class="TAG-CONT">
                                <label for="attr-title1">Atributo CSS:</label>
                                <select name="atributo-title1" id="attr-title1">
                                    <option value="" selected=""></option>
                                    <option value="section">id</option>
                                    <option value="article">class</option>
                                    <option value="header">name</option>
                                    
                                    
            
                                </select>
                                <input type="text" name="attr-inp-title">
                            </div>
                        </div>
                        <div class="col col-md-3"><button type="button">Eliminar Sección</button></div>
                    </div>
                </div>
                <div class="text-center"><button type="submit" class="btn btn-success">Guardar</button></div>
            </form>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script >
        const content_forms = document.querySelector("div.content-forms");
        var cant_seccion = document.getElementById('cant-seccion');
        var div_container = document.getElementById("configuracion")
        var contador = 1;


        document.querySelector("a.ref-sel").addEventListener("click", ()=>{
          content_forms.classList.add("content-form-toggle");
          printConFSec();
        });
        
        function printConFSec(){
            cant_seccion = cant_seccion.value;
            console.log(cant_seccion);
            for(var i=0; i < cant_seccion; i++){
                console.log(i);
                var div_content_forms = document.createDocumentFragment();
                
                
                var div_group1 = document.createElement("div");
                var div_group2 = document.createElement("div");
                var div_group3 = document.createElement("div");
                var div_group4 = document.createElement("div");

                div_group1.setAttribute("class","row form-group");
                div_group2.setAttribute("class","row form-group");
                div_group3.setAttribute("class","row form-group");
                div_group4.setAttribute("class","row form-group");
                    
                
                var div_col11 = document.createElement("div");
                div_col11.innerText = "{{ form.buscar_Titulo.label }}";
                div_col11.setAttribute("class", "col col-md-3");
                var div_col12 = document.createElement("div");
                div_col12.innerHTML = '{{ form.buscar_Titulo }}';
                div_col12.setAttribute("class","col-12 col-md-9");

                div_group1.appendChild(div_col11);
                div_group1.appendChild(div_col12);
                div_content_forms.appendChild(div_group1);


                var div_col21 = document.createElement("div");
                div_col21.innerText = "{{ form.buscar_Contenido.label }}";
                div_col21.setAttribute("class", "col col-md-3");
                var div_col22 = document.createElement("div");
                div_col22.innerHTML = '{{ form.buscar_Contenido }}';
                div_col22.setAttribute("class","col-12 col-md-9");

                div_group2.appendChild(div_col21);
                div_group2.appendChild(div_col22);
                div_content_forms.appendChild(div_group2);


                var div_col31 = document.createElement("div");
                div_col31.innerText = "{{ form.buscar_Imagenes.label }}";
                div_col31.setAttribute("class", "col col-md-3");
                var div_col32 = document.createElement("div");
                div_col32.innerHTML = '{{ form.buscar_Imagenes }}';
                div_col32.setAttribute("class","col-12 col-md-9");

                div_group3.appendChild(div_col31);
                div_group3.appendChild(div_col32);
                div_content_forms.appendChild(div_group3);

                
                var div_col41 = document.createElement("div");
                div_col41.innerText = "{{ form.buscar_links.label }}";
                div_col41.setAttribute("class", "col col-md-3");
                var div_col42 = document.createElement("div");
                div_col42.innerHTML = '{{ form.buscar_links }}';
                div_col42.setAttribute("class","col-12 col-md-9");

                div_group4.appendChild(div_col41);
                div_group4.appendChild(div_col42);
                div_content_forms.appendChild(div_group4);
                
                content_forms.appendChild(div_content_forms);
                //content_forms.innerHTML = '<div class="row form-group"><div class="col col-md-3">{{ form.buscar_Titulo.label }}</div><div class="col-12 col-md-9">{{ form.buscar_Titulo }}</div></div><div class="row form-group"><div class="col col-md-3">{{ form.buscar_Contenido.label }}</div><div class="col-12 col-md-9">{{ form.buscar_Contenido }}</div></div><div class="row form-group"><div class="col col-md-3">{{ form.buscar_Imagenes.label }}</div><div class="col-12 col-md-9">{{ form.buscar_Imagenes }}</div></div><div class="row form-group"><div class="col col-md-3">{{ form.buscar_links.label }}</div><div class="col-12 col-md-9">{{ form.buscar_links }}</div></div>'
            };
        }

        function mostrar_configuracion(){   
            div_container.style.opacity = 1;
            div_container.style.visibility = "visible";
        }
        
        function add_section(){
            contador++;
            var name = "etiqueta-seccion"
            name = name.concat(contador)
            var form_secc = document.getElementById("cont-forms");
            new_div = document.createElement("div");
            new_div.setAttribute("class", "row form-group d-flex justify-content-center text-center");
            new_div.setAttribute("id", "form-secc");
            new_section = '<div class="col col-md-3"> \
                            <h3>CONTENEDOR:</h3> \
                            <div class="TAG-CONT"> \
                                <label for="tag-seccion1">Etiqueta HTML:</label> \
                                <select name=´${name}´ id="tag-seccion1"> \
                                    <option value="" selected=""></option> \
                                    <option value="section">section</option> \
                                    <option value="article">article</option> \
                                    <option value="header">header</option> \
                                    <option value="body">body</option> \
                                    <option value="footer">footer</option> \
                                    <option value="div">div</option> \
                                    <option value="ul">ul</option> \
                                    <option value="ol">ol</option> \
                                    <option value="li">li</option> \
                                    <option value="h1">h1</option> \
                                    <option value="h2">h2</option> \
                                    <option value="h3">h3</option> \
                                    <option value="h4">h4</option> \
                                    <option value="h5">h5</option> \
                                    <option value="h6">h6</option> \
                                    <option value="p">p</option> \
                                </select> \
                            </div> \
                        </div> \
                        <div class="col col-md-3"> \
                            <h3>TITULO:</h3> \
                            <div> \
                                <label for="tag-title1">Etiqueta HTML:</label> \
                                <select name="etiqueta-title1" id="tag-title1"> \
                                    <option value="" selected=""></option> \
                                    <option value="title">title</option> \
                                    <option value="h1">h1</option> \
                                    <option value="h2">h2</option> \
                                    <option value="h3">h3</option> \
                                    <option value="h4">h4</option> \
                                    <option value="h5">h5</option> \
                                    <option value="h6">h6</option> \
                                    <option value="p">p</option> \
                                    <option value="a">a</option>  \
                                    <option value="strong">strong</option>  \
                                </select> \
                            </div> \
                        </div> \
                        <div class="col col-md-3"><button type="button">Eliminar Sección</button></div> ';
                        new_div.innerHTML = new_section;
                        form_secc.appendChild(new_div);
        }
    </script>
</body>
</html>